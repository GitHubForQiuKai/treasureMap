(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{438:function(e,t,v){e.exports=v.p+"assets/img/vue1.x.c25d6b24.jpg"},510:function(e,t,v){"use strict";v.r(t);var r=v(4),a=Object(r.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"vue1-x源码分析"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#vue1-x源码分析"}},[e._v("#")]),e._v(" Vue1.x源码分析")]),e._v(" "),r("ul",[r("li",[e._v("Observer")]),e._v(" "),r("li",[e._v("Watcher")]),e._v(" "),r("li",[e._v("Dep")]),e._v(" "),r("li",[e._v("Compiler")])]),e._v(" "),r("p",[e._v("主要流程图：\n"),r("img",{attrs:{src:v(438),alt:""}})]),e._v(" "),r("h2",{attrs:{id:"observer"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#observer"}},[e._v("#")]),e._v(" Observer")]),e._v(" "),r("p",[e._v("数据响应式包括"),r("code",[e._v("Object")]),e._v("和"),r("code",[e._v("Array")]),e._v("：")]),e._v(" "),r("ul",[r("li",[e._v("对于"),r("code",[e._v("Object")]),e._v("类型，会在"),r("code",[e._v("defineReactive")]),e._v("中采用"),r("code",[e._v("Object.defineProperty")]),e._v("将其转化为"),r("code",[e._v("getter/setter")]),e._v("。")]),e._v(" "),r("li",[e._v("对于"),r("code",[e._v("Array")]),e._v("类型，会重写数组原型上的"),r("code",[e._v("push, pop, shift ,unshift, splice, sort, reverse")]),e._v("方法。")])]),e._v(" "),r("h3",{attrs:{id:"definereactive"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#definereactive"}},[e._v("#")]),e._v(" defineReactive")]),e._v(" "),r("h2",{attrs:{id:"watcher"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#watcher"}},[e._v("#")]),e._v(" Watcher")]),e._v(" "),r("p",[r("strong",[e._v("模板")]),e._v("中每个指令/数据绑定都有一个对应的 "),r("code",[e._v("watcher")]),e._v(" 对象，在计算过程中它把属性记录为依赖。之后当依赖的 "),r("code",[e._v("setter")]),e._v(" 被调用时，会触发 "),r("code",[e._v("watcher")]),e._v(" 重新计算 ，也就会导致它的关联指令更新 "),r("code",[e._v("DOM。")])]),e._v(" "),r("h2",{attrs:{id:"dep"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#dep"}},[e._v("#")]),e._v(" Dep")]),e._v(" "),r("p",[e._v("每个响应式的数据就会创建一个"),r("code",[e._v("Dep")]),e._v("对象，"),r("code",[e._v("Dep")]),e._v("的作用主要收集并管理"),r("code",[e._v("Watcher")]),e._v("依赖，一个"),r("code",[e._v("Dep")]),e._v("会对应多个"),r("code",[e._v("Watcher")])]),e._v(" "),r("h2",{attrs:{id:"compiler"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#compiler"}},[e._v("#")]),e._v(" Compiler")]),e._v(" "),r("p",[e._v("模板编译，创建"),r("code",[e._v("Watcher")])]),e._v(" "),r("h2",{attrs:{id:"生命周期"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#生命周期"}},[e._v("#")]),e._v(" 生命周期")]),e._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("_init => $mount => _complie => \n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br")])])])}),[],!1,null,null,null);t.default=a.exports}}]);