---
title: Vue实现SEO几种方案分析
date: 2019-08-16
sidebar: 'auto'
categories:
 - vue
tags:
 - vue
 - seo
publish: true
---


# vue ssr
## 应用场景
大部分情况下是网站需要`seo`时，才会用到`ssr`，下面就`vue seo`的实现方式进行分析

## vue seo 常见的几种方式
1. 静态化
2. 预渲染`prerender-spa-plugin`
3. 基于`Puppeteer`无头浏览器的爬虫
4. `ssr`服务端渲染(`nuxt`)

## 静态化
### 场景
完全的静态化站点，比如企业官网类。


## 预渲染
### 原理
在`webpack`打包阶段，通过插件提前渲染好对应路由的`html`页面

### 应用场景
`spa`应用中的部分页面（比如营销类）

### 优点
- 对项目侵入性低，改动小，引入`prerender-spa-plugin`后修改相关`webpack`配置即可

### 缺点
- 不支持动态路由
- 由于动态数据（比如文章类），可能需要提前打包生成百上千个页面

## 爬虫处理
### 应用场景
现有的`spa`项目

### 原理
- `Puppeteer`是`chorme`的无界面浏览器，可以通过`api`的方式来操作浏览器行为，包括发起对应`url`获取浏览器解析的`html`
- 通过`nginx`分发用户和爬虫访问：
    - 用户就访问真实的`spa`页面
    - 爬虫就转发到单独`node server`，通过`Puppeteer`来获取访问`html`并返回

### 优点
- 完全不需要修改原`spa`项目

### 缺点
- 额外的`node`服务器
- 基于`Puppeteer`的开发实现
- `ngixn`层判断会不准确（比如：百度爬虫会模拟真实用户进行访问），则会对`seo`排名影响

## SSR服务端渲染（nuxt）
### 应用场景
一般应用于有`seo`需求的大型新项目（比如商城类）

### 优点
- 更好的`seo`
- 首屏响应速度更快（服务端直出页面）
- 项目结构清晰，整体开发体验比较好

### 缺点
- 学习成本高
- 额外的`node`服务器
- 对开发人员代码要求更高
    - 因为是运行在服务器上，比如出现内存泄漏的情况有可能导致服务器挂掉